(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ed40a588"],{2241:function(t,e,n){"use strict";var o=n("c31d"),a=n("2b0e"),i=n("d282"),s=n("ea8e"),r=n("b1d2"),l=n("6605"),c=n("2638"),u=n.n(c),d=n("ba31");function f(t,e){var n=e.to,o=e.url,a=e.replace;if(n&&t){var i=t[a?"replace":"push"](n);i&&i.catch&&i.catch((function(t){if(t&&"NavigationDuplicated"!==t.name)throw t}))}else o&&(a?location.replace(o):location.href=o)}function h(t){f(t.parent&&t.parent.$router,t.props)}var v={url:String,replace:Boolean,to:[String,Object]},m=n("ad06"),g=n("543e"),b=Object(i["a"])("button"),p=b[0],O=b[1];function y(t,e,n,o){var a,i=e.tag,s=e.icon,l=e.type,c=e.color,f=e.plain,v=e.disabled,b=e.loading,p=e.hairline,y=e.loadingText,C={};function B(t){b||v||(Object(d["a"])(o,"click",t),h(o))}function S(t){Object(d["a"])(o,"touchstart",t)}c&&(C.color=f?c:r["e"],f||(C.background=c),-1!==c.indexOf("gradient")?C.border=0:C.borderColor=c);var x=[O([l,e.size,{plain:f,loading:b,disabled:v,hairline:p,block:e.block,round:e.round,square:e.square}]),(a={},a[r["b"]]=p,a)];function w(){var o,a=[];return b?a.push(t(g["a"],{class:O("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}})):s&&a.push(t(m["a"],{attrs:{name:s,classPrefix:e.iconPrefix},class:O("icon")})),o=b?y:n.default?n.default():e.text,o&&a.push(t("span",{class:O("text")},[o])),a}return t(i,u()([{style:C,class:x,attrs:{type:e.nativeType,disabled:v},on:{click:B,touchstart:S}},Object(d["b"])(o)]),[w()])}y.props=Object(o["a"])(Object(o["a"])({},v),{},{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}});var C,B=p(y),S=Object(i["a"])("dialog"),x=S[0],w=S[1],k=S[2],j=x({mixins:[Object(l["a"])()],props:{title:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var e=this;this.$emit(t),this.value&&(this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,(function(n){!1!==n&&e.loading[t]&&e.onClose(t),e.loading.confirm=!1,e.loading.cancel=!1}))):this.onClose(t))},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){this.$emit("opened")},onClosed:function(){this.$emit("closed")},genButtons:function(){var t,e=this,n=this.$createElement,o=this.showCancelButton&&this.showConfirmButton;return n("div",{class:[r["c"],w("footer",{buttons:o})]},[this.showCancelButton&&n(B,{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||k("cancel")},class:w("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){e.handleAction("cancel")}}}),this.showConfirmButton&&n(B,{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||k("confirm")},class:[w("confirm"),(t={},t[r["a"]]=o,t)],style:{color:this.confirmButtonColor},on:{click:function(){e.handleAction("confirm")}}})])}},render:function(){var t,e=arguments[0];if(this.shouldRender){var n=this.message,o=this.messageAlign,a=this.slots(),i=this.slots("title")||this.title,r=i&&e("div",{class:w("header",{isolated:!n&&!a})},[i]),l=(a||n)&&e("div",{class:w("content")},[a||e("div",{domProps:{innerHTML:n},class:w("message",(t={"has-title":i},t[o]=o,t))})]);return e("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||n},class:[w(),this.className],style:{width:Object(s["a"])(this.width)}},[r,l,this.genButtons()])])}}}),P=n("a142");function _(t){return document.body.contains(t)}function T(){C&&C.$destroy(),C=new(a["a"].extend(j))({el:document.createElement("div"),propsData:{lazyRender:!1}}),C.$on("input",(function(t){C.value=t}))}function $(t){return P["e"]?Promise.resolve():new Promise((function(e,n){C&&_(C.$el)||T(),Object(o["a"])(C,$.currentOptions,t,{resolve:e,reject:n})}))}$.defaultOptions={value:!0,title:"",width:"",message:"",overlay:!0,className:"",lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!1,closeOnClickOverlay:!1,callback:function(t){C["confirm"===t?"resolve":"reject"](t)}},$.alert=$,$.confirm=function(t){return $(Object(o["a"])({showCancelButton:!0},t))},$.close=function(){C&&(C.value=!1)},$.setDefaultOptions=function(t){Object(o["a"])($.currentOptions,t)},$.resetDefaultOptions=function(){$.currentOptions=Object(o["a"])({},$.defaultOptions)},$.resetDefaultOptions(),$.install=function(){a["a"].use(j)},$.Component=j,a["a"].prototype.$dialog=$;e["a"]=$},"2fcb":function(t,e,n){},"6d6e":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.orders,(function(e,o){return n("div",{key:o,staticClass:"order-list",attrs:{"data-v-64b0f2f5":""}},[n("div",{staticClass:"ordernum-wrap",attrs:{"data-v-64b0f2f5":""}},[n("div",{staticClass:"ordernum",attrs:{"data-v-64b0f2f5":""}},[t._v("订单编号："+t._s(e.ordernum))]),n("div",{staticClass:"status",attrs:{"data-v-64b0f2f5":""}},[t._v(t._s("0"===e.status?"待付款":"1"===e.status?"待收货":"已收货"))])]),t._l(e.goods,(function(o,a){return n("div",{key:a,staticClass:"item-list",attrs:{"data-v-64b0f2f5":""},on:{click:function(n){return t.$router.push("/user/order/details?ordernum="+e.ordernum)}}},[n("div",{staticClass:"image",attrs:{"data-v-64b0f2f5":""}},[n("img",{attrs:{"data-v-64b0f2f5":"",src:o.image,alt:""}})]),n("div",{staticClass:"title",attrs:{"data-v-64b0f2f5":""}},[t._v(t._s(o.title))]),n("div",{staticClass:"amount",attrs:{"data-v-64b0f2f5":""}},[t._v("x "+t._s(o.amount))])])})),n("div",{staticClass:"total-wrap",attrs:{"data-v-64b0f2f5":""}},[n("div",{staticClass:"total",attrs:{"data-v-64b0f2f5":""}},[t._v("实付金额：¥"+t._s(e.total))]),n("div",{staticClass:"status-wrap",attrs:{"data-v-64b0f2f5":""}},["0"===e.status?n("div",{staticClass:"status-btn",attrs:{"data-v-64b0f2f5":""},on:{click:function(n){return t.cancelOrder(o,e.ordernum)}}},[t._v("取消订单 ")]):t._e(),n("div",{staticClass:"status-btn",attrs:{"data-v-64b0f2f5":""},on:{click:function(n){return t.sureOrderPage(o,e)}}},[t._v(" "+t._s("0"===e.status?"去付款":"1"===e.status?"确认收货":"已收货")+" ")])])])],2)})),0)},a=[],i=n("5530"),s=(n("e17f"),n("2241")),r=n("2f62"),l=n("2b0e"),c=n("826f"),u=n.n(c);l["a"].use(s["a"]);var d={mounted:function(){document.title=this.$route.meta.title},created:function(){this.$utils.safeUser(this),this.pullUp=new u.a,this.status=this.$route.query.status?this.$route.query.status:"all",this.goData(),console.log(this.status)},computed:Object(i["a"])({},Object(r["e"])({orders:function(t){return t.order.orders}})),methods:Object(i["a"])({goData:function(){var t=this;this.myOrder({status:this.status,page:1,success:function(e){t.pullUp.init({curPage:1,maxPage:parseInt(e),offsetBottom:100},(function(e){t.myOrderPage({status:t.status,page:e})}))}})},cancelOrder:function(t,e){var n=this;s["a"].confirm({title:"标题",message:"确定要取消吗?"}).then((function(){n.clearOrder({ordernum:e,index:t})})).catch((function(){}))},sureOrderPage:function(t,e){"2"!=e.status&&this.sureOrder({ordernum:e.ordernum,index:t,status:2})}},Object(r["b"])({myOrder:"order/myOrder",clearOrder:"order/clearOrder",sureOrder:"order/sureOrder",myOrderPage:"order/myOrderPage"})),beforeDestroy:function(){this.pullUp.uneventSrcoll()},beforeRouteUpdate:function(t,e,n){this.status=t.query.status,this.goData(),console.log(this.status),n()}},f=d,h=(n("dc72"),n("2877")),v=Object(h["a"])(f,o,a,!1,null,"248b7f10",null);e["default"]=v.exports},"826f":function(t,e,n){var o;(function(a,i,s){t.exports?t.exports=s(a,i):(o=function(){return s(a,i)}.call(e,n,e,t),void 0===o||(t.exports=o))})(window,document,(function(t,e){var n=function(){this.fnScrollBottom=null,this.eventScroll()};return n.prototype={init:function(t,e){t instanceof Object&&(this.opts=t,this.iMaxPage=this.opts.maxPage,this.fnCallback=e,this.iOffsetBottom=this.opts.offsetBottom,this.iCurPage=this.opts.curPage)},eventScroll:function(){var e=this;e.fnScrollBottom=e.scrollBottom().bind(this),t.addEventListener("scroll",e.fnScrollBottom,!1)},uneventSrcoll:function(){var e=this;t.removeEventListener("scroll",e.fnScrollBottom,!1)},scrollBottom:function(){var t=this,n=!0;return function(){if(n){n=!1;var o=null;clearTimeout(o),o=setTimeout((function(){var o=e.documentElement.scrollHeight||e.body.scrollHeight,a=e.documentElement.scrollTop||e.body.scrollTop,i=e.documentElement.clientHeight||e.body.clientHeight;o-(i+a)<=t.iOffsetBottom&&t.iCurPage<t.iMaxPage&&(t.iCurPage++,t.fnCallback(t.iCurPage)),n=!0}),300)}}}},n}))},"9de8":function(t,e,n){},b1d2:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return l}));var o="#fff",a="van-hairline",i=a+"--top",s=a+"--left",r=a+"--surround",l=a+"-unset--top-bottom"},bc1b:function(t,e,n){},dc72:function(t,e,n){"use strict";var o=n("9de8"),a=n.n(o);a.a},e17f:function(t,e,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("4d75"),n("e3b3"),n("bc1b"),n("2fcb")}}]);
//# sourceMappingURL=chunk-ed40a588.d396e19a.js.map